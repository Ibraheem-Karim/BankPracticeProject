2025-08-03 01:48:53.610 +03:00 [INF] User profile is available. Using 'C:\Users\abdel\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-03 01:48:53.749 +03:00 [INF] Now listening on: http://localhost:5263
2025-08-03 01:48:53.866 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-03 01:48:53.866 +03:00 [INF] Hosting environment: Development
2025-08-03 01:48:53.866 +03:00 [INF] Content root path: C:\Users\abdel\Desktop\Bank studying related\BankTestProject\BankTestProjectBackendOnion\BankTestProjectBackendOnion.API
2025-08-03 01:48:54.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/index.html - null null
2025-08-03 01:48:54.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/index.html - 200 null text/html;charset=utf-8 261.5137ms
2025-08-03 01:48:54.371 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - null null
2025-08-03 01:48:54.374 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - 200 16546 application/javascript; charset=utf-8 5.0873ms
2025-08-03 01:48:54.385 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_vs/browserLink - null null
2025-08-03 01:48:54.468 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.8003ms
2025-08-03 01:48:54.535 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - null null
2025-08-03 01:48:54.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.7179ms
2025-08-03 01:49:50.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/index.html - null null
2025-08-03 01:49:50.444 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/index.html - 200 null text/html;charset=utf-8 4.4652ms
2025-08-03 01:49:50.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_vs/browserLink - null null
2025-08-03 01:49:50.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - null null
2025-08-03 01:49:50.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_framework/aspnetcore-browser-refresh.js - 200 16546 application/javascript; charset=utf-8 0.334ms
2025-08-03 01:49:50.472 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.3791ms
2025-08-03 01:49:50.542 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - null null
2025-08-03 01:49:50.547 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.6703ms
2025-08-03 01:49:58.282 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - null null
2025-08-03 01:49:58.289 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:49:58.2891964+03:00"
2025-08-03 01:49:58.295 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:49:58.298 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:49:58.2987058+03:00"
2025-08-03 01:49:58.299 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - 204 null null 16.6137ms
2025-08-03 01:49:58.310 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - null null
2025-08-03 01:49:58.312 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:49:58.3123607+03:00"
2025-08-03 01:49:58.313 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:49:58.428 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:49:58.455 +03:00 [INF] Route matched with {action = "GetAccountsByCustomerId", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountsByCustomerId(System.String) on controller BankTestProjectBackendOnion.API.Controllers.AccountsController (BankTestProjectBackendOnion.API).
2025-08-03 01:49:58.457 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-08-03 01:49:59.906 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:50:00.028 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BankTestProjectBackendOnion.Application.DTOs.Account.AccountSummaryDto, BankTestProjectBackendOnion.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-03 01:50:00.046 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) in 1587.984ms
2025-08-03 01:50:00.046 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:50:00.047 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:50:00.0474831+03:00"
2025-08-03 01:50:00.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - 200 null application/json; charset=utf-8 1743.8947ms
2025-08-03 01:50:22.574 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:50:22.575 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:50:22.5754869+03:00"
2025-08-03 01:50:22.575 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:50:22.576 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:50:22.5760597+03:00"
2025-08-03 01:50:22.576 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 1.5013ms
2025-08-03 01:50:22.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:50:22.578 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:50:22.5788471+03:00"
2025-08-03 01:50:22.579 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:50:22.581 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:50:22.585 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:50:22.635 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:50:22.677 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:50:22.692 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:50:22.695 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 110.1898ms
2025-08-03 01:50:22.695 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:50:22.695 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:50:22.6958889+03:00"
2025-08-03 01:50:22.696 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 200 null application/json; charset=utf-8 118.1197ms
2025-08-03 01:50:22.699 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - null null
2025-08-03 01:50:22.700 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:50:22.7000251+03:00"
2025-08-03 01:50:22.700 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:50:22.700 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:50:22.7003875+03:00"
2025-08-03 01:50:22.700 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - 204 null null 0.6598ms
2025-08-03 01:50:22.702 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/transactions/new - application/json 126
2025-08-03 01:50:22.702 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:50:22.7022995+03:00"
2025-08-03 01:50:22.702 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:50:22.705 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:50:22.709 +03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(BankTestProjectBackendOnion.Application.DTOs.Transaction.CreateTransactionDto) on controller BankTestProjectBackendOnion.API.Controllers.TransactionsController (BankTestProjectBackendOnion.API).
2025-08-03 01:50:22.832 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:50:22.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:50:22.843 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 36 - this is test
2025-08-03 01:50:23.006 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Boolean), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = DateTime2), @p14='?' (Size = 250), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Accounts] SET [AccountNumber] = @p0, [Balance] = @p1, [CreatedAt] = @p2, [CustomerId] = @p3, [IsActive] = @p4
OUTPUT 1
WHERE [AccountId] = @p5;
UPDATE [Accounts] SET [AccountNumber] = @p6, [Balance] = @p7, [CreatedAt] = @p8, [CustomerId] = @p9, [IsActive] = @p10
OUTPUT 1
WHERE [AccountId] = @p11;
INSERT INTO [Transactions] ([Amount], [CreatedAt], [Description], [FromAccountId], [ToAccountId], [TransactionType])
OUTPUT INSERTED.[TransactionId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17);
2025-08-03 01:50:23.033 +03:00 [INF] Transaction completed successfully: 16, From 66663832 to acc1111, Amount: 36, Time: "2025-08-02T22:50:23.0330340Z"
2025-08-03 01:50:23.033 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:50:23.034 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) in 324.8743ms
2025-08-03 01:50:23.034 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:50:23.034 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:50:23.0342733+03:00"
2025-08-03 01:50:23.034 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/transactions/new - 200 null application/json; charset=utf-8 332.3413ms
2025-08-03 01:52:49.237 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - null null
2025-08-03 01:52:49.238 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:52:49.2379571+03:00"
2025-08-03 01:52:49.238 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:52:49.238 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:52:49.2382260+03:00"
2025-08-03 01:52:49.238 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - 204 null null 0.758ms
2025-08-03 01:52:49.240 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - null null
2025-08-03 01:52:49.241 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:52:49.2410704+03:00"
2025-08-03 01:52:49.241 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:52:49.242 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:52:49.242 +03:00 [INF] Route matched with {action = "GetAccountsByCustomerId", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountsByCustomerId(System.String) on controller BankTestProjectBackendOnion.API.Controllers.AccountsController (BankTestProjectBackendOnion.API).
2025-08-03 01:52:49.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:52:49.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BankTestProjectBackendOnion.Application.DTOs.Account.AccountSummaryDto, BankTestProjectBackendOnion.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-03 01:52:49.255 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) in 12.7861ms
2025-08-03 01:52:49.255 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:52:49.255 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:52:49.2556664+03:00"
2025-08-03 01:52:49.255 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/ef81f2bb-325e-4e69-94db-f0872581141e - 200 null application/json; charset=utf-8 15.2146ms
2025-08-03 01:53:04.328 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:04.329 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:04.3290874+03:00"
2025-08-03 01:53:04.329 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:04.329 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:04.3293015+03:00"
2025-08-03 01:53:04.329 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 1.3778ms
2025-08-03 01:53:04.330 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:04.331 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:04.3311583+03:00"
2025-08-03 01:53:04.331 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:04.331 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:04.331 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:04.339 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:53:04.340 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:53:04.340 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:53:04.340 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 9.18ms
2025-08-03 01:53:04.341 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:04.341 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:04.3410563+03:00"
2025-08-03 01:53:04.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 404 null application/json; charset=utf-8 10.2904ms
2025-08-03 01:53:08.040 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - null null
2025-08-03 01:53:08.040 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:08.0403637+03:00"
2025-08-03 01:53:08.040 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:08.040 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:08.0404976+03:00"
2025-08-03 01:53:08.040 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - 204 null null 0.7116ms
2025-08-03 01:53:08.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - null null
2025-08-03 01:53:08.044 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:08.0443654+03:00"
2025-08-03 01:53:08.044 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:08.044 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:08.045 +03:00 [INF] Route matched with {action = "GetAccountsByCustomerId", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountsByCustomerId(System.String) on controller BankTestProjectBackendOnion.API.Controllers.AccountsController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:08.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:53:08.054 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BankTestProjectBackendOnion.Application.DTOs.Account.AccountSummaryDto, BankTestProjectBackendOnion.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-03 01:53:08.054 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) in 9.2993ms
2025-08-03 01:53:08.054 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:08.054 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:08.0544517+03:00"
2025-08-03 01:53:08.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - 200 null application/json; charset=utf-8 10.4271ms
2025-08-03 01:53:25.150 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/login - null null
2025-08-03 01:53:25.150 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:25.1509422+03:00"
2025-08-03 01:53:25.151 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:25.151 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:25.1510811+03:00"
2025-08-03 01:53:25.151 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/login - 204 null null 0.3775ms
2025-08-03 01:53:25.152 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/auth/login - application/json 49
2025-08-03 01:53:25.152 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.Login (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:25.1526015+03:00"
2025-08-03 01:53:25.152 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:25.153 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.Login (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:25.156 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BankTestProjectBackendOnion.Application.DTOs.Auth.LoginDto) on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:25.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:53:25.293 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-08-03 01:53:25.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'BankTestProjectBackendOnion.API.Responses.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:53:25.314 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.Login (BankTestProjectBackendOnion.API) in 157.7405ms
2025-08-03 01:53:25.314 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.Login (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:25.314 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.Login (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:25.3141511+03:00"
2025-08-03 01:53:25.314 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/auth/login - 200 null application/json; charset=utf-8 161.9593ms
2025-08-03 01:53:25.326 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - null null
2025-08-03 01:53:25.326 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:25.3264193+03:00"
2025-08-03 01:53:25.326 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:25.327 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:25.3270444+03:00"
2025-08-03 01:53:25.327 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - 204 null null 1.0264ms
2025-08-03 01:53:25.329 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - null null
2025-08-03 01:53:25.332 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:25.3321179+03:00"
2025-08-03 01:53:25.332 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:25.332 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:25.333 +03:00 [INF] Route matched with {action = "GetAccountsByCustomerId", controller = "Accounts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountsByCustomerId(System.String) on controller BankTestProjectBackendOnion.API.Controllers.AccountsController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:25.336 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:53:25.337 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[BankTestProjectBackendOnion.Application.DTOs.Account.AccountSummaryDto, BankTestProjectBackendOnion.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-03 01:53:25.337 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) in 4.2088ms
2025-08-03 01:53:25.337 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:25.337 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AccountsController.GetAccountsByCustomerId (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:25.3374760+03:00"
2025-08-03 01:53:25.337 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/accounts/by-customer/59931f4c-54e2-4d68-8bf3-096eadcf1b06 - 200 null application/json; charset=utf-8 7.7365ms
2025-08-03 01:53:39.149 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:39.149 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:39.1499796+03:00"
2025-08-03 01:53:39.150 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:39.150 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:39.1500853+03:00"
2025-08-03 01:53:39.150 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 0.331ms
2025-08-03 01:53:39.151 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:39.151 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:39.1517503+03:00"
2025-08-03 01:53:39.151 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:39.152 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:39.152 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:39.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:53:39.154 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:53:39.154 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:53:39.155 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 2.7475ms
2025-08-03 01:53:39.155 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:39.155 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:39.1550776+03:00"
2025-08-03 01:53:39.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 404 null application/json; charset=utf-8 3.5977ms
2025-08-03 01:53:50.549 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:50.549 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:50.5492062+03:00"
2025-08-03 01:53:50.549 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:50.549 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:53:50.5493901+03:00"
2025-08-03 01:53:50.549 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 0.3957ms
2025-08-03 01:53:50.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:53:50.551 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:50.5510557+03:00"
2025-08-03 01:53:50.551 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:53:50.551 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:50.551 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:53:50.559 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:53:50.562 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:53:50.562 +03:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:53:50.562 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 11.1966ms
2025-08-03 01:53:50.562 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:53:50.562 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:53:50.5627784+03:00"
2025-08-03 01:53:50.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 404 null application/json; charset=utf-8 12.1415ms
2025-08-03 01:54:24.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:54:24.703 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:54:24.7038797+03:00"
2025-08-03 01:54:24.703 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:54:24.704 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:54:24.7040121+03:00"
2025-08-03 01:54:24.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 0.3564ms
2025-08-03 01:54:24.705 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:54:24.706 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:54:24.7059995+03:00"
2025-08-03 01:54:24.706 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:54:24.706 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:54:24.706 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:54:24.711 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:54:24.713 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:54:24.713 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:54:24.714 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 7.6467ms
2025-08-03 01:54:24.714 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:54:24.714 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:54:24.7141729+03:00"
2025-08-03 01:54:24.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 200 null application/json; charset=utf-8 8.4768ms
2025-08-03 01:54:24.718 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - null null
2025-08-03 01:54:24.718 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:54:24.7184669+03:00"
2025-08-03 01:54:24.718 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:54:24.718 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:54:24.7185699+03:00"
2025-08-03 01:54:24.718 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - 204 null null 0.2918ms
2025-08-03 01:54:24.720 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/transactions/new - application/json 118
2025-08-03 01:54:24.720 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:54:24.7201350+03:00"
2025-08-03 01:54:24.720 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:54:24.720 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:54:24.720 +03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(BankTestProjectBackendOnion.Application.DTOs.Transaction.CreateTransactionDto) on controller BankTestProjectBackendOnion.API.Controllers.TransactionsController (BankTestProjectBackendOnion.API).
2025-08-03 01:54:24.724 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:54:24.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:54:24.726 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 36 - test
2025-08-03 01:54:24.738 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Boolean), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = DateTime2), @p14='?' (Size = 250), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Accounts] SET [AccountNumber] = @p0, [Balance] = @p1, [CreatedAt] = @p2, [CustomerId] = @p3, [IsActive] = @p4
OUTPUT 1
WHERE [AccountId] = @p5;
UPDATE [Accounts] SET [AccountNumber] = @p6, [Balance] = @p7, [CreatedAt] = @p8, [CustomerId] = @p9, [IsActive] = @p10
OUTPUT 1
WHERE [AccountId] = @p11;
INSERT INTO [Transactions] ([Amount], [CreatedAt], [Description], [FromAccountId], [ToAccountId], [TransactionType])
OUTPUT INSERTED.[TransactionId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17);
2025-08-03 01:54:24.739 +03:00 [INF] Transaction completed successfully: 17, From 66663832 to acc1111, Amount: 36, Time: "2025-08-02T22:54:24.7393265Z"
2025-08-03 01:54:24.739 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:54:24.739 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) in 18.9176ms
2025-08-03 01:54:24.739 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:54:24.739 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:54:24.7396685+03:00"
2025-08-03 01:54:24.739 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/transactions/new - 200 null application/json; charset=utf-8 19.7986ms
2025-08-03 01:55:43.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:55:43.030 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:55:43.0306898+03:00"
2025-08-03 01:55:43.030 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:55:43.030 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:55:43.0308315+03:00"
2025-08-03 01:55:43.030 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/auth/account-number - 204 null null 0.3497ms
2025-08-03 01:55:43.032 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5263/api/auth/account-number - null null
2025-08-03 01:55:43.032 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:55:43.0327301+03:00"
2025-08-03 01:55:43.032 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:55:43.033 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:55:43.033 +03:00 [INF] Route matched with {action = "GetAccountNumber", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAccountNumber() on controller BankTestProjectBackendOnion.API.Controllers.AuthController (BankTestProjectBackendOnion.API).
2025-08-03 01:55:43.038 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-03 01:55:43.040 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
2025-08-03 01:55:43.040 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:55:43.040 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) in 7.7781ms
2025-08-03 01:55:43.041 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API)'
2025-08-03 01:55:43.041 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.AuthController.GetAccountNumber (BankTestProjectBackendOnion.API) at "2025-08-03T01:55:43.0410262+03:00"
2025-08-03 01:55:43.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5263/api/auth/account-number - 200 null application/json; charset=utf-8 8.5964ms
2025-08-03 01:55:43.044 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - null null
2025-08-03 01:55:43.045 +03:00 [INF] Received request for endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:55:43.0449996+03:00"
2025-08-03 01:55:43.045 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:55:43.045 +03:00 [INF] Response sent from endpoint: 405 HTTP Method Not Supported at "2025-08-03T01:55:43.0450856+03:00"
2025-08-03 01:55:43.045 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5263/api/transactions/new - 204 null null 0.2829ms
2025-08-03 01:55:43.046 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5263/api/transactions/new - application/json 116
2025-08-03 01:55:43.046 +03:00 [INF] Received request for endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:55:43.0468993+03:00"
2025-08-03 01:55:43.046 +03:00 [INF] CORS policy execution successful.
2025-08-03 01:55:43.047 +03:00 [INF] Executing endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:55:43.047 +03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transactions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(BankTestProjectBackendOnion.Application.DTOs.Transaction.CreateTransactionDto) on controller BankTestProjectBackendOnion.API.Controllers.TransactionsController (BankTestProjectBackendOnion.API).
2025-08-03 01:55:43.053 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:55:43.054 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AccountId], [a].[AccountNumber], [a].[Balance], [a].[CreatedAt], [a].[CustomerId], [a].[IsActive], [a0].[Id], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
FROM [Accounts] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[CustomerId] = [a0].[Id]
2025-08-03 01:55:43.054 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 59 - test
2025-08-03 01:55:43.061 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p6='?' (Size = 50), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Boolean), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (DbType = DateTime2), @p14='?' (Size = 250), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Accounts] SET [AccountNumber] = @p0, [Balance] = @p1, [CreatedAt] = @p2, [CustomerId] = @p3, [IsActive] = @p4
OUTPUT 1
WHERE [AccountId] = @p5;
UPDATE [Accounts] SET [AccountNumber] = @p6, [Balance] = @p7, [CreatedAt] = @p8, [CustomerId] = @p9, [IsActive] = @p10
OUTPUT 1
WHERE [AccountId] = @p11;
INSERT INTO [Transactions] ([Amount], [CreatedAt], [Description], [FromAccountId], [ToAccountId], [TransactionType])
OUTPUT INSERTED.[TransactionId]
VALUES (@p12, @p13, @p14, @p15, @p16, @p17);
2025-08-03 01:55:43.061 +03:00 [INF] Transaction completed successfully: 18, From 66663832 to acc1111, Amount: 59, Time: "2025-08-02T22:55:43.0618204Z"
2025-08-03 01:55:43.061 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-03 01:55:43.062 +03:00 [INF] Executed action BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) in 14.7204ms
2025-08-03 01:55:43.062 +03:00 [INF] Executed endpoint 'BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API)'
2025-08-03 01:55:43.062 +03:00 [INF] Response sent from endpoint: BankTestProjectBackendOnion.API.Controllers.TransactionsController.CreateTransaction (BankTestProjectBackendOnion.API) at "2025-08-03T01:55:43.0621269+03:00"
2025-08-03 01:55:43.062 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5263/api/transactions/new - 200 null application/json; charset=utf-8 15.4739ms
2025-08-03 09:53:53.533 +03:00 [ERR] Transaction failed: From 66663832 to acc1111 for 44. Error: Insufficient balance
System.Exception: Insufficient balance
   at BankTestProjectBackendOnion.Application.Handlers.CreateTransactionHandler.Handle(CreateTransactionCommand request, CancellationToken cancellationToken) in C:\Users\abdel\Desktop\Bank studying related\BankTestProject\BankTestProjectBackendOnion\BankTestProjectBackendOnion.Application\Handlers\CreateTransactionHandler.cs:line 45
2025-08-03 10:14:16.529 +03:00 [ERR] Transaction failed: From 66663832 to acc1111 for 33. Error: Insufficient balance
System.Exception: Insufficient balance
   at BankTestProjectBackendOnion.Application.Handlers.CreateTransactionHandler.Handle(CreateTransactionCommand request, CancellationToken cancellationToken) in C:\Users\abdel\Desktop\Bank studying related\BankTestProject\BankTestProjectBackendOnion\BankTestProjectBackendOnion.Application\Handlers\CreateTransactionHandler.cs:line 45
2025-08-03 10:33:48.775 +03:00 [ERR] Transaction failed: From 66663832 to acc1111 for 33. Error: Insufficient balance
System.Exception: Insufficient balance
   at BankTestProjectBackendOnion.Application.Handlers.CreateTransactionHandler.Handle(CreateTransactionCommand request, CancellationToken cancellationToken) in C:\Users\abdel\Desktop\Bank studying related\BankTestProject\BankTestProjectBackendOnion\BankTestProjectBackendOnion.Application\Handlers\CreateTransactionHandler.cs:line 46
2025-08-03 10:34:29.015 +03:00 [ERR] Transaction failed: From 66663832 to 32 for 46. Error: Invalid account number(s)
System.Exception: Invalid account number(s)
   at BankTestProjectBackendOnion.Application.Handlers.CreateTransactionHandler.Handle(CreateTransactionCommand request, CancellationToken cancellationToken) in C:\Users\abdel\Desktop\Bank studying related\BankTestProject\BankTestProjectBackendOnion\BankTestProjectBackendOnion.Application\Handlers\CreateTransactionHandler.cs:line 43
2025-08-03 10:46:19.850 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 66 - test
2025-08-03 10:46:20.063 +03:00 [INF] Transaction completed successfully: 19, From 66663832 to acc1111, Amount: 66, Time: "2025-08-03T07:46:20.0630667Z"
2025-08-03 10:47:02.514 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 44 - test
2025-08-03 10:47:02.528 +03:00 [INF] Transaction completed successfully: 20, From 66663832 to acc1111, Amount: 44, Time: "2025-08-03T07:47:02.5284874Z"
2025-08-03 10:53:08.723 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 1000 - one thousand pounds transaction
2025-08-03 10:53:08.736 +03:00 [INF] Transaction completed successfully: 21, From 66663832 to acc1111, Amount: 1000, Time: "2025-08-03T07:53:08.7362890Z"
2025-08-03 10:53:47.585 +03:00 [INF] Initiating transaction: From 66663832 to acc1111 for 1000 - test 222
2025-08-03 10:53:47.598 +03:00 [INF] Transaction completed successfully: 22, From 66663832 to acc1111, Amount: 1000, Time: "2025-08-03T07:53:47.5984938Z"
